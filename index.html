<!DOCTYPE html>
<html>
<head>
  <title>Load Image</title>
</head>
<body>
<div id="image"></div>

<script>
const imageDiv = document.getElementById('image');

const getUrlString = location.href;
const splitParam = getUrlString.split('&');
const handleHostname = splitParam[0];
const hostURL = new URL(handleHostname);
const imgsrcPrase = hostURL.searchParams.get('imgsrc');
splitParam[0] = imgsrcPrase;
const combineParam = splitParam.join('&'); 
  
console.log("splitParam",splitParam);
  console.log("combineParam",combineParam);

// 創建一個Image對象
const img = new Image();

// 將要獲取的圖片的URL賦值給它的src屬性
img.src = combineParam;
img.width = 500;

// Wrap with <img>
//const imgHtml = `<img src = ${combineParam}/>`;

// 當圖片加載完成時，將其添加到imageDiv中
// img.onload = () => {
imageDiv.appendChild(img);
// };
  
//meta tag
const metaProps = document.createElement('meta');
metaProps.name = 'image';
metaProps.image = combineParam;
metaProps.content = combineParam;
document.getElementsByTagName('head')[0].appendChild(metaProps);

</script>
</body>
</html>
